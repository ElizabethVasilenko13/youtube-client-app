"use strict";(self.webpackChunkyoutube_client_app=self.webpackChunkyoutube_client_app||[]).push([[34],{9034:(N,l,i)=>{i.r(l),i.d(l,{AdminModule:()=>y});var m=i(6814),n=i(95),u=i(9597),d=i(370),t=i(9212),g=i(4221),f=i(6941),C=i(9516);function h(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"div",16),t._UZ(2,"app-form-control",17),t.qZA(),t.BQk()),2&e){const r=s.index,o=t.oxw();t.xp6(1),t.Q6J("formGroupName",r),t.xp6(1),t.MGl("label","Tag ",r+1,""),t.Q6J("control",o.tags.at(r).get("tag"))("isRequired",!0)}}function b(e,s){1&e&&t._uU(0,"+")}function T(e,s){1&e&&t._uU(0,"Reset form")}function A(e,s){1&e&&t._uU(0,"Create card")}const v=[{path:"",component:(()=>{class e{constructor(r,o){this.fb=r,this.store=o,this.createCardForm=this.fb.group({title:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(20)]],description:["",[n.kI.maxLength(255)]],img:["",[n.kI.required]],videoLink:["",[n.kI.required]],creationDate:["",[n.kI.required,e=>{const{value:s}=e;return new Date(s)>new Date?{futureDate:!0}:null}]],tags:this.fb.array([this.createTag()])})}get tags(){return this.createCardForm.get("tags")}createTag(){return this.fb.group({tag:["",[n.kI.required]]})}addTag(){this.tags.controls.length<5&&this.tags.push(this.createTag())}resetForm(){this.createCardForm.reset(),this.createCardForm.setControl("tags",this.fb.array([this.createTag()]))}onSubmit(){const r={...this.createCardForm.value};this.store.dispatch((0,d.JX)({video:r})),this.resetForm()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(n.qu),t.Y36(g.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-page"]],decls:21,vars:23,consts:[[1,"container"],[1,"form",3,"formGroup","ngSubmit"],["label","Title","controlName","title",3,"control","isRequired"],["label","Description","controlName","description",3,"control"],["label","Img","controlName","img",3,"control","isRequired"],["label","Link video","controlName","videoLink","type","url",3,"control","isRequired"],["label","Creation date","controlName","creationDate","type","date",3,"control","isRequired"],["formArrayName","tags",1,"tags"],[4,"ngFor","ngForOf"],[3,"customClass","disabled","title","buttonTemplate","buttonClick"],["addTagBtnTemplate",""],[1,"button-container"],[3,"customClass","title","buttonTemplate","buttonClick"],["resetBtnTemplate",""],[3,"customClass","type","disabled","title","buttonTemplate"],["createCardBtnTemplate",""],[1,"form-group",3,"formGroupName"],["controlName","tag",3,"label","control","isRequired"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Create new card"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t._UZ(4,"app-form-control",2)(5,"app-form-control",3)(6,"app-form-control",4)(7,"app-form-control",5)(8,"app-form-control",6),t.TgZ(9,"div",7),t.YNc(10,h,3,4,"ng-container",8),t.TgZ(11,"app-button",9),t.NdJ("buttonClick",function(){return a.addTag()}),t.YNc(12,b,1,0,"ng-template",null,10,t.W1O),t.qZA()(),t.TgZ(14,"div",11)(15,"app-button",12),t.NdJ("buttonClick",function(){return a.resetForm()}),t.YNc(16,T,1,0,"ng-template",null,13,t.W1O),t.qZA(),t.TgZ(18,"app-button",14),t.YNc(19,A,1,0,"ng-template",null,15,t.W1O),t.qZA()()()()),2&o){const c=t.MAs(13),x=t.MAs(17),J=t.MAs(20);t.xp6(3),t.Q6J("formGroup",a.createCardForm),t.xp6(1),t.Q6J("control",a.createCardForm.get("title"))("isRequired",!0),t.xp6(1),t.Q6J("control",a.createCardForm.get("description")),t.xp6(1),t.Q6J("control",a.createCardForm.get("img"))("isRequired",!0),t.xp6(1),t.Q6J("control",a.createCardForm.get("videoLink"))("isRequired",!0),t.xp6(1),t.Q6J("control",a.createCardForm.get("creationDate"))("isRequired",!0),t.xp6(2),t.Q6J("ngForOf",a.tags.controls),t.xp6(1),t.Q6J("customClass","plus__btn")("disabled",a.tags.controls.length>=5)("title","Add tag")("buttonTemplate",c),t.xp6(4),t.Q6J("customClass","item__button")("title","Reset form")("buttonTemplate",x),t.xp6(3),t.Q6J("customClass","item__button")("type","submit")("disabled",a.createCardForm.invalid)("title","Create card")("buttonTemplate",J)}},dependencies:[m.sg,n._Y,n.JL,n.sg,n.x0,n.CE,f.A,C.r],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:15px;background-color:#1c1c1c;border-radius:5px}.container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:250px}"]})}return e})()}];let _=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(v),u.Bz]})}return e})();var F=i(6208);let y=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[m.ez,_,n.UX,F.m]})}return e})()}}]);